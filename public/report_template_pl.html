<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Raport Inspekcji Pojazdu | daeCenter PRO</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700;800&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* USTAWIENIA DRUKU */
        @page { size: A4; margin: 0; }
        body { margin: 0; padding: 0; font-family: 'Roboto', sans-serif; background: #444; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        
        /* KARTKA A4 */
        .sheet { 
            width: 210mm; height: 296mm; background: white; position: relative; overflow: hidden; 
            margin: 20px auto; box-shadow: 0 0 25px rgba(0,0,0,0.5); page-break-after: always; 
        }

        /* DESIGN SYSTEM */
        :root { 
            --primary: #FF5722; 
            --secondary: #263238; 
            --light-gray: #f5f7fa; 
            --border: #e0e0e0; 
            --green: #27ae60;
            --red: #c0392b;
            --orange: #f39c12;
        }
        
        /* UI CONTROLS */
        .ui-controls {
            position: fixed; top: 20px; right: 20px; background: white; padding: 20px; 
            border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.4); z-index: 9999; width: 240px;
        }
        .btn-save {
            background: var(--primary); color: white; border: none; padding: 12px; font-weight: 700; 
            border-radius: 6px; cursor: pointer; width: 100%; letter-spacing: 1px; font-family: 'Montserrat';
            transition: background 0.3s;
        }
        .btn-save:hover { background: #e64a19; }
        .hint { font-size: 12px; color: #666; margin-top: 10px; display: block; line-height: 1.4; }

        /* HEADER */
        .header { 
            height: 18mm; background: var(--secondary); color: white; display: flex; align-items: center; 
            justify-content: space-between; padding: 0 15mm; 
        }
        .logo { font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 18pt; letter-spacing: -0.5px; }
        .logo span { color: var(--primary); }
        .report-meta { text-align: right; font-size: 8pt; color: #cfd8dc; }

        /* FOOTER */
        .footer { 
            position: absolute; bottom: 0; width: 100%; height: 12mm; background: var(--light-gray); 
            border-top: 2px solid var(--primary); display: flex; align-items: center; justify-content: space-between; 
            padding: 0 15mm; font-size: 7pt; color: #666; box-sizing: border-box;
        }

        /* CONTENT AREA */
        .content { padding: 10mm 15mm; }

        /* TYPOGRAFIA */
        h1 { font-family: 'Montserrat'; font-weight: 800; font-size: 22pt; margin: 0; color: var(--secondary); text-transform: uppercase; }
        h2 { 
            font-family: 'Montserrat'; font-weight: 700; font-size: 12pt; color: var(--secondary); 
            border-bottom: 2px solid var(--border); padding-bottom: 5px; margin: 25px 0 15px 0; text-transform: uppercase;
            display: flex; align-items: center; gap: 10px;
        }
        h2 i { color: var(--primary); }

        /* SEKCJE INFO */
        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .info-box { background: var(--light-gray); padding: 15px; border-radius: 8px; border: 1px solid var(--border); }
        .info-row { display: flex; justify-content: space-between; border-bottom: 1px solid #e0e0e0; padding: 5px 0; font-size: 9pt; }
        .info-row:last-child { border: none; }
        .label { font-weight: 600; color: #78909c; font-size: 7pt; text-transform: uppercase; }
        .value { font-weight: 700; color: #263238; }

        /* GŁÓWNE ZDJĘCIE */
        .main-photo { 
            width: 100%; height: 70mm; background: #eceff1; display: flex; align-items: center; 
            justify-content: center; position: relative; border-radius: 8px; overflow: hidden; cursor: pointer;
            border: 2px dashed #cfd8dc; margin: 10px 0 20px 0;
        }
        .main-photo img { width: 100%; height: 100%; object-fit: cover; position: absolute; }

        /* SYSTEM OCENY (PASKI) */
        .score-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; }
        .score-item { text-align: center; background: var(--light-gray); padding: 10px; border-radius: 6px; }
        .score-title { font-size: 7pt; font-weight: 700; color: #546e7a; text-transform: uppercase; margin-bottom: 5px; }
        .score-bar-bg { width: 100%; height: 6px; background: #cfd8dc; border-radius: 3px; overflow: hidden; }
        .score-bar-fill { height: 100%; background: var(--primary); width: 80%; } /* Domyślna szerokość */
        .score-val { font-size: 14pt; font-weight: 900; color: var(--secondary); margin-top: 5px; }

        /* OPIS EKSPERTA */
        .expert-summary { 
            font-size: 9.5pt; line-height: 1.6; color: #37474f; text-align: justify; 
            background: #fff; border: 1px solid var(--border); padding: 15px; border-radius: 8px; 
            border-left: 4px solid var(--primary); min-height: 80px;
        }

        /* STATUSY / CHECKLISTA */
        .check-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; font-size: 9pt; }
        .check-row { display: flex; justify-content: space-between; align-items: center; padding: 4px 0; border-bottom: 1px dotted #ccc; }
        .st-badge { 
            font-size: 7pt; font-weight: 700; padding: 2px 8px; border-radius: 4px; color: white; 
            text-transform: uppercase; min-width: 50px; text-align: center; cursor: pointer; 
        }
        .ok { background: var(--green); }
        .warn { background: var(--orange); }
        .bad { background: var(--red); }
        .na { background: #b0bec5; }

        /* TABELA USTEREK */
        .defects-table { width: 100%; border-collapse: collapse; font-size: 9pt; margin-top: 10px; }
        .defects-table th { background: var(--secondary); color: white; text-align: left; padding: 8px; font-size: 8pt; }
        .defects-table td { border-bottom: 1px solid var(--border); padding: 8px; vertical-align: top; }
        .defects-table tr:last-child td { border-bottom: none; }

        /* MAPA LAKIERU */
        .paint-map { position: relative; width: 100%; height: 60mm; background: #fff; margin-bottom: 20px; border: 1px solid var(--border); border-radius: 8px; }
        .car-outline { 
            width: 100%; height: 100%; opacity: 0.15;
            background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Sedan_top_view.svg/1280px-Sedan_top_view.svg.png') no-repeat center; 
            background-size: contain; 
        }
        .pm-point {
            position: absolute; background: white; border: 2px solid var(--secondary); border-radius: 4px;
            padding: 2px 5px; font-size: 8pt; font-weight: 700; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex; flex-direction: column; align-items: center; min-width: 40px; cursor: pointer;
        }
        .pm-label { font-size: 5pt; color: #90a4ae; text-transform: uppercase; margin-bottom: 1px; }

        /* GALERIA */
        .gallery { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .photo-slot { 
            aspect-ratio: 4/3; background: var(--light-gray); border: 1px dashed #b0bec5; border-radius: 4px;
            display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; cursor: pointer;
        }
        .photo-slot img { width: 100%; height: 100%; object-fit: cover; position: absolute; }
        .photo-slot i { color: #cfd8dc; font-size: 24px; }
        .photo-slot:hover { border-color: var(--primary); }

        /* TABELA OPON */
        .tire-table { width: 100%; font-size: 8pt; border-collapse: collapse; margin-top: 10px; margin-bottom: 10px; }
        .tire-table th { background: var(--light-gray); text-align: left; padding: 5px; border: 1px solid #ddd; }
        .tire-table td { padding: 5px; border: 1px solid #ddd; }
        
        @media print {
            body { background: #fff; }
            .ui-controls { display: none; }
            .sheet { margin: 0; box-shadow: none; }
            .upload-hint { display: none; }
        }
    </style>
</head>
<body>

    <div class="ui-controls">
        <button class="btn-save" onclick="window.print()"><i class="fas fa-file-pdf"></i> ZAPISZ JAKO PDF</button>
        <div class="hint">
            <strong>Instrukcja:</strong><br>
            1. Kliknij w teksty aby edytować.<br>
            2. Kliknij w ramki aby dodać zdjęcia.<br>
            3. Kliknij w "OK/UWAGA", aby zmienić kolor.<br>
            4. Zapisz jako PDF (Bez marginesów).
        </div>
    </div>

    <div class="sheet">
        <div class="header">
            <div class="logo">DAE<span>CENTER</span></div>
            <div class="report-meta">
                RAPORT NR: <span contenteditable="true">2025/10/25-01</span><br>
                DATA: <span contenteditable="true">25.11.2025</span>
            </div>
        </div>
        <div class="content">
            <div style="display:flex; justify-content:space-between; align-items:end;">
                <div>
                    <div style="font-size: 9pt; color:var(--primary); font-weight:700; text-transform:uppercase;">Raport Przedzakupowy</div>
                    <h1 contenteditable="true">BMW SERIA 3 (G20)</h1>
                    <div style="font-size: 10pt; color:#666; margin-top:2px;" contenteditable="true">2.0 Diesel | M-Pakiet | 2020</div>
                </div>
                <div style="text-align:right;">
                    <div class="st-badge ok" style="font-size:14pt; padding:5px 15px;" contenteditable="true">POLECAMY</div>
                </div>
            </div>

            <div class="main-photo" onclick="upload(this)">
                <i class="fas fa-camera fa-3x" style="color:#b0bec5"></i>
                <input type="file" hidden onchange="preview(this)">
            </div>

            <div class="info-grid">
                <div class="info-box">
                    <div class="info-row"><span class="label">Numer VIN</span><span class="value" contenteditable="true">WBA53829...</span></div>
                    <div class="info-row"><span class="label">Data Rejestracji</span><span class="value" contenteditable="true">15.03.2020</span></div>
                    <div class="info-row"><span class="label">Przebieg</span><span class="value" contenteditable="true">142,500 km</span></div>
                    <div class="info-row"><span class="label">Silnik / Moc</span><span class="value" contenteditable="true">1995 ccm / 190 KM</span></div>
                    <div class="info-row"><span class="label">Skrzynia</span><span class="value" contenteditable="true">Automatyczna 8HP</span></div>
                </div>
                <div class="info-box">
                    <div class="info-row"><span class="label">Sprzedawca</span><span class="value" contenteditable="true">Osoba Prywatna</span></div>
                    <div class="info-row"><span class="label">Lokalizacja</span><span class="value" contenteditable="true">Essen, Niemcy</span></div>
                    <div class="info-row"><span class="label">Dokumenty</span><span class="value" contenteditable="true">Komplet (DE)</span></div>
                    <div class="info-row"><span class="label">Inspektor</span><span class="value" contenteditable="true">Jakub S.</span></div>
                    <div class="info-row"><span class="label">Pakiet</span><span class="value" contenteditable="true">Premium</span></div>
                </div>
            </div>

            <div class="score-grid">
                <div class="score-item">
                    <div class="score-title">NADWOZIE</div>
                    <div class="score-bar-bg"><div class="score-bar-fill" style="width:90%"></div></div>
                    <div class="score-val" contenteditable="true">4.5/5</div>
                </div>
                <div class="score-item">
                    <div class="score-title">WNĘTRZE</div>
                    <div class="score-bar-bg"><div class="score-bar-fill" style="width:95%"></div></div>
                    <div class="score-val" contenteditable="true">4.8/5</div>
                </div>
                <div class="score-item">
                    <div class="score-title">MECHANIKA</div>
                    <div class="score-bar-bg"><div class="score-bar-fill" style="width:80%"></div></div>
                    <div class="score-val" contenteditable="true">4.0/5</div>
                </div>
                <div class="score-item">
                    <div class="score-title">JAZDA</div>
                    <div class="score-bar-bg"><div class="score-bar-fill" style="width:100%"></div></div>
                    <div class="score-val" contenteditable="true">5.0/5</div>
                </div>
            </div>

            <h2><i class="fas fa-comment-alt"></i> OPINIA INSPEKTORA</h2>
            <div class="expert-summary" contenteditable="true">
                Samochód utrzymany w bardzo dobrym stanie, adekwatnym do deklarowanego przebiegu. Silnik pracuje wzorowo, układ wtryskowy bez zastrzeżeń (korekty w normie). Skrzynia biegów zmienia przełożenia płynnie, bez szarpnięć.
                <br><br>
                <strong>Wady:</strong> Stwierdzono punktowe lakierowanie tylnego zderzaka (kosmetyka) oraz zużycie tylnych klocków hamulcowych (wymagają wymiany). Szyba czołowa posiada drobny odprysk, który został zabezpieczony.
                <br><br>
                <strong>Rekomendacja:</strong> Auto godne polecenia. Po zakupie zalecam podstawowy serwis olejowy oraz wymianę hamulców tył.
            </div>
        </div>
        <div class="footer">
            <span>daeCenter BV - Antwerpia, Belgia</span>
            <span>www.daeCenter.com</span>
        </div>
    </div>

    <div class="sheet">
        <div class="header"><div class="logo">DAE<span>CENTER</span></div><div class="report-meta">TECHNIKA</div></div>
        <div class="content">
            <div class="check-grid">
                <div>
                    <h2><i class="fas fa-cogs"></i> SILNIK I OSPRZĘT</h2>
                    <div class="check-row"><span>Zimny rozruch</span><span class="st-badge ok">BDB</span></div>
                    <div class="check-row"><span>Kultura pracy (Jałowy)</span><span class="st-badge ok">OK</span></div>
                    <div class="check-row"><span>Wycieki (Góra silnika)</span><span class="st-badge ok">SUCHO</span></div>
                    <div class="check-row"><span>Wycieki (Dół/Miska)</span><span class="st-badge ok">SUCHO</span></div>
                    <div class="check-row"><span>Dymienie / Spaliny</span><span class="st-badge ok">NORMA</span></div>
                    <div class="check-row"><span>Osprzęt (Paski/Rolki)</span><span class="st-badge ok">OK</span></div>
                    <div class="check-row"><span>Poziom Oleju</span><span class="st-badge warn">MIN</span></div>
                    <div class="check-row"><span>Stan płynu chłodniczego</span><span class="st-badge ok">CZYSTY</span></div>
                    <div class="check-row"><span>Korek wlewu (Masło)</span><span class="st-badge ok">CZYSTY</span></div>

                    <h2><i class="fas fa-bolt"></i> NAPĘD I ZAWIESZENIE</h2>
                    <div class="check-row"><span>Skrzynia (Postój - P/R/D)</span><span class="st-badge ok">PŁYNNIE</span></div>
                    <div class="check-row"><span>Skrzynia (Jazda)</span><span class="st-badge ok">PŁYNNIE</span></div>
                    <div class="check-row"><span>Koło dwumasowe</span><span class="st-badge ok">CICHY</span></div>
                    <div class="check-row"><span>Półosie / Przeguby</span><span class="st-badge ok">OK</span></div>
                    <div class="check-row"><span>Amortyzatory (Wycieki)</span><span class="st-badge ok">BRAK</span></div>
                    <div class="check-row"><span>Luzy w zawieszeniu</span><span class="st-badge ok">BRAK</span></div>
                    <div class="check-row"><span>Układ kierowniczy</span><span class="st-badge ok">PRECYZ.</span></div>
                </div>

                <div>
                    <h2><i class="fas fa-chair"></i> WNĘTRZE</h2>
                    <div class="check-row"><span>Kierownica (Zużycie)</span><span class="st-badge ok">ADEKWATNE</span></div>
                    <div class="check-row"><span>Fotel Kierowcy</span><span class="st-badge ok">BDB</span></div>
                    <div class="check-row"><span>Przełączniki / Przyciski</span><span class="st-badge ok">SPRAWNE</span></div>
                    <div class="check-row"><span>Klimatyzacja (Chłodzenie)</span><span class="st-badge ok">DZIAŁA</span></div>
                    <div class="check-row"><span>Nawiewy / Klapy</span><span class="st-badge ok">OK</span></div>
                    <div class="check-row"><span>Szyby / Lusterka el.</span><span class="st-badge ok">OK</span></div>
                    <div class="check-row"><span>Wilgoć / Zapachy</span><span class="st-badge ok">BRAK</span></div>
                    <div class="check-row"><span>System Audio / Navi</span><span class="st-badge ok">OK</span></div>

                    <h2><i class="fas fa-file-alt"></i> DOKUMENTY</h2>
                    <div class="check-row"><span>Dowód Rej. (Cz. I)</span><span class="st-badge ok">JEST</span></div>
                    <div class="check-row"><span>Dowód Rej. (Cz. II)</span><span class="st-badge ok">JEST</span></div>
                    <div class="check-row"><span>Certyfikat COC</span><span class="st-badge ok">JEST</span></div>
                    <div class="check-row"><span>Książka Serwisowa</span><span class="st-badge warn">CZĘŚCIOWA</span></div>
                    <div class="check-row"><span>Kluczyki (Ilość)</span><span class="st-badge" style="background:#555" contenteditable="true">2</span></div>
                </div>
            </div>

            <h2><i class="fas fa-laptop-code"></i> DIAGNOSTYKA OBD</h2>
            <div class="expert-summary" style="font-family:monospace; font-size:8pt; background:#f5f5f5; border:none;" contenteditable="true">
                > SILNIK (ECU): Brak błędów.<br>
                > SKRZYNIA (TCU): Brak błędów.<br>
                > ABS/ESP: Brak błędów.<br>
                > AIRBAG: Brak błędów.<br>
                > MODUŁ KOMFORTU: Błąd 8041A - Podgrzewanie lusterka prawego (przerwa).<br>
                > DPF: Zapełnienie 42g (Norma). Ostatnia regeneracja 340km temu.
            </div>
        </div>
        <div class="footer"><span>daeCenter BV</span><span>Strona 2/4</span></div>
    </div>

    <div class="sheet">
        <div class="header"><div class="logo">DAE<span>CENTER</span></div><div class="report-meta">KAROSERIA</div></div>
        <div class="content">
            
            <h2><i class="fas fa-spray-can"></i> POWŁOKA LAKIERNICZA (µm)</h2>
            <div class="paint-map">
                <div class="car-outline"></div>
                <div class="pm-point" style="top:10%; left:46%;" contenteditable="true"><span class="pm-label">Maska</span>110</div>
                <div class="pm-point" style="top:45%; left:46%;" contenteditable="true"><span class="pm-label">Dach</span>115</div>
                <div class="pm-point" style="top:90%; left:46%;" contenteditable="true"><span class="pm-label">Klapa</span>108</div>
                
                <div class="pm-point" style="top:25%; left:12%;" contenteditable="true"><span class="pm-label">LP Błot.</span>105</div>
                <div class="pm-point" style="top:25%; right:12%;" contenteditable="true"><span class="pm-label">PP Błot.</span>110</div>
                
                <div class="pm-point" style="top:45%; left:10%;" contenteditable="true"><span class="pm-label">LP Drzwi</span>112</div>
                <div class="pm-point" style="top:45%; right:10%;" contenteditable="true"><span class="pm-label">PP Drzwi</span>114</div>
                
                <div class="pm-point" style="top:65%; left:10%;" contenteditable="true"><span class="pm-label">LT Drzwi</span>109</div>
                <div class="pm-point" style="top:65%; right:10%;" contenteditable="true"><span class="pm-label">PT Drzwi</span>180</div>
                
                <div class="pm-point" style="top:80%; left:12%;" contenteditable="true"><span class="pm-label">LT Błot.</span>110</div>
                <div class="pm-point" style="top:80%; right:12%;" contenteditable="true"><span class="pm-label">PT Błot.</span>115</div>
            </div>

            <h2><i class="fas fa-car-side"></i> OPONY I HAMULCE</h2>
            <table class="tire-table">
                <tr><th>Pozycja</th><th>Opona (Marka/DOT/Bieżnik)</th><th>Hamulce (Tarcza/Klocek)</th></tr>
                <tr><td>Przód Lewy</td><td contenteditable="true">Michelin Pilot Sport 4 (2321) 6.5mm</td><td contenteditable="true">OK / 70%</td></tr>
                <tr><td>Przód Prawy</td><td contenteditable="true">Michelin Pilot Sport 4 (2321) 6.5mm</td><td contenteditable="true">OK / 70%</td></tr>
                <tr><td>Tył Lewy</td><td contenteditable="true">Michelin Pilot Sport 4 (2021) 5.0mm</td><td contenteditable="true">RANT / 20%</td></tr>
                <tr><td>Tył Prawy</td><td contenteditable="true">Michelin Pilot Sport 4 (2021) 5.0mm</td><td contenteditable="true">RANT / 20%</td></tr>
            </table>

        </div>
        <div class="footer"><span>daeCenter BV</span><span>Strona 3/4</span></div>
    </div>
    
    <div class="sheet">
        <div class="header"><div class="logo">DAE<span>CENTER</span></div><div class="report-meta">ZDJĘCIA</div></div>
        <div class="content">
            <div class="gallery">
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
                <div class="photo-slot" onclick="upload(this)"><i class="fas fa-plus"></i><input type="file" hidden onchange="preview(this)"></div>
            </div>
        </div>
        <div class="footer"><span>daeCenter BV</span><span>Strona 4/4</span></div>
    </div>

    <script>
        function upload(el) { el.querySelector('input').click(); }
        function preview(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    var parent = input.parentElement;
                    var oldImg = parent.querySelector('img');
                    if(oldImg) oldImg.remove();
                    var icons = parent.querySelectorAll('i, span, div');
                    icons.forEach(i => i.style.display = 'none');
                    var img = document.createElement('img');
                    img.src = e.target.result;
                    parent.appendChild(img);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        document.querySelectorAll('.st-badge').forEach(el => {
            el.addEventListener('click', () => {
                if(el.classList.contains('ok')) { el.className='st-badge warn'; el.innerText='UWAGA'; }
                else if(el.classList.contains('warn')) { el.className='st-badge bad'; el.innerText='ŹLE'; }
                else if(el.classList.contains('bad')) { el.className='st-badge na'; el.innerText='N/A'; }
                else { el.className='st-badge ok'; el.innerText='OK'; }
            });
        });
    </script>
</body>
</html>